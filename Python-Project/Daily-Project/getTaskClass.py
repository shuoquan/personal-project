import requests
import json

# 新平台header
newPlatformHeader = {
    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEwMywicm9sZUlkIjoxLCJ1c2VyTmFtZSI6InNodW9xdWFuIiwiaWF0IjoxNjExMTMyNjczLCJleHAiOjE2MTE3Mzc0NzN9.k5nVTQQ-RXNn_IOWcDyexrzCFrRoCAXiNbH8If5IQbg',
    'Content-Type': 'application/json'
}
newPlatformUrl = 'http://anjian.haishen-inc.com/api/statistics/category?taskIds[]=96'
newPlatTaskList = [39, 45, 8, 31, 25, 33, 5, 81, 29, 41, 42, 38, 10, 37, 35, 34, 4, 61, 43, 30, 46, 36, 52, 44, 28, 85,
                   48, 40, 32, 65, 27, 47, 50, 53, 49, 51, 64, 90, 92, 89, 97, 66, 70, 77, 62, 73, 95, 71, 68, 84, 96,
                   56, 83, 57, 54, 80, 82, 76, 88, 86, 63, 75, 72, 69, 79, 74, 87, 91, 55, 94, 67, 93, 78]

# 旧平台header
oldPlatformHeader = {
    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjkyLCJyb2xlSWQiOjEsInVzZXJOYW1lIjoi5LiB56GV5p2DIiwiaWF0IjoxNjExMTMyODMwLCJleHAiOjE2MTE3Mzc2MzB9.gHwSKX_dUp4QTc5QfvCIV6HFoOn_EFG68_2BwDKMojE'
}
oldPlatformUrl = 'http://biaozhu.haishen-inc.com/api/task/statistic?tid[]=1&ob=class'
oldPlatformTaskList = [183, 196, 194, 185, 204, 315, 208, 29, 355, 316, 604, 358, 10, 370, 313, 369, 605, 318, 359, 360,
                       356, 60, 317, 357, 362, 603, 367, 314, 373, 602, 522, 378, 377, 319, 332, 307, 333, 379, 326,
                       339, 334, 320, 327, 381, 380, 524, 192, 689, 493, 336, 321, 341, 342, 343, 328, 335, 322, 329,
                       323, 324, 325, 330, 177, 56, 35, 621, 190, 453, 361, 459, 344, 547, 532, 395, 703, 492, 569, 557,
                       491, 718, 500, 562, 561, 516, 519, 560, 518, 47, 570, 20, 331, 345, 337, 338, 19, 353, 346, 347,
                       340, 38, 348, 349, 350, 351, 352, 198, 383, 23, 44, 384, 30, 55, 207, 70, 548, 454, 386, 460,
                       193, 197, 606, 189, 53, 354, 607, 28, 211, 201, 195, 191, 213, 91, 31, 624, 625, 109, 107, 626,
                       304, 202, 486, 366, 305, 455, 563, 1, 424, 13, 590, 2, 59, 58, 127, 129, 187, 71, 72, 73, 74, 69,
                       78, 64, 65, 85, 79, 205, 57, 61, 594, 573, 571, 597, 436, 421, 440, 402, 425, 398, 389, 404, 5,
                       396, 446, 399, 368, 400, 408, 428, 438, 407, 432, 434, 397, 374, 86, 405, 415, 426, 433, 403,
                       627, 372, 414, 24, 430, 444, 681, 441, 388, 442, 489, 36, 391, 494, 17, 581, 206, 437, 406, 559,
                       16, 416, 445, 422, 409, 429, 431, 580, 14, 62, 54, 628, 435, 11, 582, 583, 618, 443, 12, 15, 387,
                       529, 616, 488, 619, 620, 572, 622, 3, 630, 495, 182, 212, 186, 214, 173, 180, 467, 423, 456, 63,
                       629, 410, 392, 448, 634, 450, 632, 169, 465, 34, 45, 684, 50, 52, 67, 170, 171, 172, 77, 80, 81,
                       82, 83, 68, 96, 87, 88, 97, 94, 41, 469, 449, 466, 470, 692, 7, 706, 98, 90, 93, 99, 100, 101,
                       102, 103, 89, 104, 105, 106, 92, 108, 110, 166, 167, 199, 203, 115, 111, 112, 113, 114, 116, 117,
                       118, 119, 120, 121, 122, 123, 124, 125, 126, 128, 130, 131, 132, 133, 134, 498, 135, 136, 137,
                       138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 209, 188, 84, 51, 592, 178, 76, 200, 174,
                       181, 306, 210, 184, 26, 394, 693, 699, 8, 499, 574, 707, 451, 457, 468, 497, 49, 577, 508, 505,
                       412, 506, 520, 496, 575, 149, 150, 151, 66, 476, 477, 376, 474, 479, 152, 153, 154, 155, 156,
                       157, 158, 159, 160, 161, 162, 163, 164, 165, 531, 635, 393, 475, 482, 463, 639, 458, 484, 439,
                       584, 578, 586, 587, 708, 503, 461, 550, 558, 640, 413, 641, 382, 473, 427, 464, 530, 554, 18,
                       504, 612, 485, 614, 509, 714, 478, 507, 720, 636, 502, 501, 638, 698, 694, 25, 710, 722, 535,
                       555, 543, 521, 541, 37, 538, 513, 21, 511, 539, 540, 637, 536, 534, 512, 542, 711, 544, 510, 545,
                       514, 642, 695, 643, 551, 537, 644, 645, 646, 648, 649, 650, 653, 517, 32, 715, 719, 27, 579, 487,
                       564, 576, 556, 523, 375, 371, 527, 525, 22, 526, 553, 168, 528, 546, 385, 610, 712, 462, 481,
                       472, 651, 48, 552, 647, 633, 654, 658, 657, 659, 686, 471, 6, 705, 725, 726, 401, 39, 43, 611,
                       665, 655, 666, 40, 46, 660, 593, 591, 617, 613, 589, 585, 609, 549, 447, 662, 667, 595, 671, 668,
                       664, 656, 608, 652, 661, 515, 631, 670, 672, 669, 673, 675, 674, 677, 676, 678, 4, 713, 600, 596,
                       663, 9, 411, 42, 599, 598, 679, 700, 701, 480, 685, 601, 682, 687, 696, 690, 683, 615, 680, 623,
                       717, 721, 688, 724, 702, 691, 704, 697, 709, 533, 483, 490, 33, 452, 723]

# 新平台demo
result = requests.get(newPlatformUrl, headers=newPlatformHeader)
print(result.json())
# print(json.load(result.text))

# 老平台demo
# result = requests.get(oldPlatformUrl, headers=oldPlatformHeader);
# print(result.text)

# 只需要写个循环遍历上面的taskList就能获取每个任务的统计信息，替换`http://biaozhu.haishen-inc.com/api/task/statistic?tid[]=${?}&ob=class`中?位置
